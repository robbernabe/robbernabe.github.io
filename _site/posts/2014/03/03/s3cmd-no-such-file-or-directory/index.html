<!DOCTYPE HTML>
<html>
    <head>
        <title>s3cmd: No such file or directory - rob.pe</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        
            
        
        
            <meta name="description" content="If you’ve ever used s3cmd and are using encryption support, then you might run into this problem when uploading a file to s3:">
        
        <meta name="keywords" content="debug logs,s3cmd,gpg" />
        <meta name="generator" content="Jekyll 1.4.3">

        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600|Droid+Sans+Mono" rel="stylesheet" type="text/css" />
        <!--[if lte IE 8]><script src="/assets/js/html5shiv.js"></script><![endif]-->
        <script src="/assets/js/jquery.min.js"></script>
        <script src="/assets/js/skel.min.js"></script>
        <script src="/assets/js/skel-panels.min.js"></script>
        <script src="/assets/js/init.js"></script>
        <noscript>
            <link rel="stylesheet" href="/assets/css/skel-noscript.css" />
            <link rel="stylesheet" href="/assets/css/style.css" />
            <link rel="stylesheet" href="/assets/css/style-wide.css" />
        </noscript>
        <!--[if lte IE 9]><link rel="stylesheet" href="/assets/css/ie9.css" /><![endif]-->
        <!--[if lte IE 8]><link rel="stylesheet" href="/assets/css/ie8.css" /><![endif]-->
        <link rel="stylesheet" href="/assets/css/syntax.css" />
        <link rel="stylesheet" href="/assets/css/font-awesome-4.0.3/css/font-awesome.css" />

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-43079914-2', 'rob.pe');
      ga('send', 'pageview');

    </script>

    </head>
    <body id="post">

        <!-- Header -->
            <div id="header" class="skel-panels-fixed">

                <div class="top">

                    <!-- Logo -->
                        <div id="logo">
                            <span class="image avatar48">
                               <a href="/"><img src="/assets/img/rob_logo.png" alt="" /></a>
                            </span>
                            <h1 id="title">Rob Bernab&eacute;</h1>
                            <span class="byline">Software &amp; Platform Engineer</span>
                        </div>
                    <!-- Nav -->
                        <nav id="mainnav">
                            <ul>
                                <li><a href="/" ><span class="fa fa-home">Home</span></a></li>
                                <li><a href="/posts/" class="active"><span class="fa fa-list">Articles</span></a></li>
                                <li><a href="/about/" ><span class="fa fa-user">About</span></a></li>
                                <li><a href="/contact/" ><span class="fa fa-envelope">Contact</span></a></li>
                            </ul>
                        </nav>

                </div>

                <div class="bottom">

                    <!-- Social Icons -->
                        <ul class="icons">
                            <li><a href="mailto:rob@rob.pe" class="fa fa-envelope solo"><span>Email</span></a></li>
                            <li><a href="https://github.com/robbernabe/" class="fa fa-github solo"><span>Github</span></a></li>
                            <li><a href="https://www.linkedin.com/in/rbernabe/" class="fa fa-linkedin solo"><span>LinkedIn</span></a></li>
                            <li><a href="https://twitter.com/rbernabe" class="fa fa-twitter solo"><span>Twitter</span></a></li>
                            <li><a href="/atom.xml" class="fa fa-rss solo"><span>Atom feed</span></a></li>
                        </ul>

                </div>

            </div>

        <!-- Main -->
            <div id="main">
                <section class="regular">
	<div class="container">
		<article>
	<header>
		<h1>s3cmd: No such file or directory</h1>
		<span>
			Posted on <time datetime='2014-03-03'>March  3, 2014</time>
			&dash;
			Tagged 
			
			<a href='/tag/debug logs/'>debug logs</a>
			
			<a href='/tag/s3cmd/'>s3cmd</a>
			
			<a href='/tag/gpg/'>gpg</a>
			
		</span>
	</header>

	<p class='excerpt'>If you’ve ever used <a href='http://s3tools.org/s3cmd'>s3cmd</a> and are using encryption support, then you might run into this problem when uploading a file to s3:</p>
<pre><code>!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    An unexpected error has occurred.
  Please report the following lines to:
   s3tools-bugs@lists.sourceforge.net
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Problem: OSError: [Errno 2] No such file or directory
S3cmd:   1.0.1

Traceback (most recent call last):
  File &quot;/usr/local/bin/s3cmd&quot;, line 2006, in &lt;module&gt;
    main()
  File &quot;/usr/local/bin/s3cmd&quot;, line 1950, in main
    cmd_func(args)
  File &quot;/usr/local/bin/s3cmd&quot;, line 372, in cmd_object_put
    exitcode, full_name, extra_headers[&quot;x-amz-meta-s3tools-gpgenc&quot;] = gpg_encrypt(full_name_orig)
  File &quot;/usr/local/bin/s3cmd&quot;, line 1420, in gpg_encrypt
    code = gpg_command(command, cfg.gpg_passphrase)
  File &quot;/usr/local/bin/s3cmd&quot;, line 1402, in gpg_command
    p = subprocess.Popen(command, stdin = subprocess.PIPE, stdout = subprocess.PIPE, stderr = subprocess.STDOUT)
  File &quot;/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py&quot;, line 709, in __init__
    errread, errwrite)
  File &quot;/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py&quot;, line 1326, in _execute_child
    raise child_exception
OSError: [Errno 2] No such file or directory

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    An unexpected error has occurred.
    Please report the above lines to:
   s3tools-bugs@lists.sourceforge.net
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</code></pre>

<p>The problem was that s3cmd was looking for gpg in the wrong location:</p>

<pre><code>rbernabe ~ $ grep gpg .s3cfg
gpg_command = /usr/bin/gpg</code></pre>

<p>On my local Mac the gpg binary was in /usr/local/bin:</p>

<pre><code>rbernabe ~ $ which gpg
/usr/local/bin/gpg</code></pre>

<p>Updating the line <code>gpg_command</code> in the .s3cfg file accordingly fixed the error.</p>
</article>
	</div>
</section>

            </div>

        <!-- Footer -->
            <div id="footer">
                <!-- Copyright -->
                    <div class="copyright">
                        <p>
                            &copy; 2014 Rob Bernab&eacute;
                        </p>
                        <ul class="menu">
                            <li>Design by <a href="http://html5up.net">HTML5 UP</a></li>
                            <li>Powered by <a href="http://jekyllrb.com/">Jekyll</a></li>
                        </ul>
                    </div>

            </div>

    </body>
</html>
